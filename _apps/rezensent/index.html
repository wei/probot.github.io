<h1>rezensent</h1><p>The rezensent (german for reviewer) is a github app which help managing big pull requests in a<br>repository divided by code ownership rules.</p><h2>Idea</h2><p>Split a pull request into several smaller ones along the lines of ownership.<br>Then maintain the spitted pull requests using the app.</p><p>It is loosely based on the idea of <a href="https://cacm.acm.org/magazines/2016/7/204032-why-google-stores-billions-of-lines-of-code-in-a-single-repository/fulltext">googles rosie</a></p><blockquote><p>With Rosie, developers create a large patch, either through a find-and-replace<br>operation across the entire repository or through more complex refactoring<br>tools. Rosie then takes care of splitting the large patch into smaller<br>patches, testing them independently, sending them out for code review, and<br>committing them automatically once they pass tests and a code review. Rosie<br>splits patches along project directory lines, relying on the code-ownership<br>hierarchy described earlier to send patches to the appropriate reviewers</p></blockquote><h2>How it works</h2><h3>Terminology</h3><table><thead><tr><th>term</th><th>explanation</th></tr></thead><tbody><tr><td>managed pull request</td><td>A pull request labeled with the 'manage label'</td></tr><tr><td>team pull request</td><td>A pull request created by the app per team</td></tr><tr><td>codeowners</td><td><a href="https://docs.github.com/en/github/creating-cloning-and-archiving-repositories/about-code-owners">CODEOWNERS</a></td></tr></tbody></table><h3>Steps</h3><ul><li><p>Whenever a pull request is labeled with the configured 'manage label', the app<br>will create a pull request with just the changes for each team.</p></li><li><p>Then each team can review their changes separated from the other teams and<br>when the pull request is approved it can be merged.</p></li><li><p>As soon as the app detects a merge, the managed pull request is updated to the<br>HEAD of it's base branch. And all remaining team pull requests are<br>update/recreated.</p></li><li><p>When there are no changes left, the managed pull request is closed as all<br>changes are integrated into it's base branch.</p></li></ul><h3>Process description</h3><p align="center"><img src="https://raw.githubusercontent.com/KnisterPeter/rezensent/main/docs/process.drawio.svg" alt="process"></p><h2>Usage</h2><h3>Public App</h3><p>The app is publicly available for free at <a href="https://github.com/apps/rezensent">https://github.com/apps/rezensent</a>.</p><p>You can just add it to your github repository and complete the onboarding process.</p><h3>Docker</h3><p>The app could be hosted using the <a href="https://hub.docker.com/r/knisterpeter/rezensent">provided docker image</a>.</p><p>The container need to be configured by the following environment variables:</p><table><thead><tr><th>name</th><th>description</th><th>required</th><th>default</th></tr></thead><tbody><tr><td>APP_ID</td><td>The GitHub app id</td><td>yes</td><td></td></tr><tr><td>PRIVATE_KEY</td><td>The private key obtained from github</td><td>yes</td><td></td></tr><tr><td>WEBHOOK_SECRET</td><td>The webhook secret set during app creation</td><td>yes</td><td></td></tr><tr><td>PORT</td><td>The port of the app inside the container</td><td>no</td><td>3000</td></tr></tbody></table>