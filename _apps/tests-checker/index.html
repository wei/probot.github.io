<h1>Tests Checker</h1><p>To install this bot to your Open Sourced project:</p><ul><li>open <a href="https://github.com/apps/tests-checker">https://github.com/apps/tests-checker</a></li><li>click &quot;Install&quot;</li><li>choose the repository you want to install <code>tests-checker</code> to</li></ul><img width="990" alt="tests-checker" src="https://user-images.githubusercontent.com/3725595/45590526-b7f3fa00-b942-11e8-972d-143c0b367017.png"><h2>Settings</h2><p>You can configure bot by adding <code>.github/tests_checker.yml</code> file to the repository and override any of the settings listed below.</p><p>Default values are:</p><pre class="language-yaml"><code class="language-yaml"><span class="token key atrule">comment</span><span class="token punctuation">:</span> <span class="token string">'Could you please add tests to make sure this change works as expected?'</span><span class="token punctuation">,</span><br><span class="token key atrule">fileExtensions</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'.php'</span><span class="token punctuation">,</span> <span class="token string">'.ts'</span><span class="token punctuation">,</span> <span class="token string">'.js'</span><span class="token punctuation">,</span> <span class="token string">'.c'</span><span class="token punctuation">,</span> <span class="token string">'.cs'</span><span class="token punctuation">,</span> <span class="token string">'.cpp'</span><span class="token punctuation">,</span> <span class="token string">'.rb'</span><span class="token punctuation">,</span> <span class="token string">'.java'</span><span class="token punctuation">]</span><br><span class="token key atrule">testDir</span><span class="token punctuation">:</span> <span class="token string">'tests'</span></code></pre><p>where</p><ul><li><code>comment</code> - a text that bot will post when it won't find tests in the PR</li><li><code>fileExtensions</code> - extensions of the files that should be treated as a <code>source code</code>. Bot will do nothing if you just updating <code>README.md</code> because usually no tests are required to cover such change.</li><li><code>testDir</code> - folder, where tests are located. Make sure to set it correctly, otherwise bot will not be able to understand whether the test file was added or not.</li></ul><p>If you want to change only directory where the tests are placed, just add <code>.github/tests_checker.yml</code>:</p><pre class="language-yaml"><code class="language-yaml"><span class="token key atrule">testDir</span><span class="token punctuation">:</span> app<span class="token punctuation">-</span>tests</code></pre><p>If you don't want to change anything, you can skip creating this file.</p><h2>Setup</h2><p>This is needed if you want to deploy this bot to your server or want to contribute to it. Please note, that <code>tests-checker</code> is ready to use. You just need to install Github Application as mentioned in above.</p><pre class="language-bash"><code class="language-bash"><span class="token comment"># Install dependencies</span><br><span class="token function">npm</span> <span class="token function">install</span><br><br><span class="token comment"># Run typescript</span><br><span class="token function">npm</span> run build<br><br><span class="token comment"># Run the bot for production or</span><br><span class="token function">npm</span> start<br><br><span class="token comment"># for development</span><br><span class="token function">npm</span> run dev</code></pre><h2>Deploy</h2><p>Install <code>now</code>:</p><p><code>npm install -g now</code></p><p>Deploy:</p><pre class="language-bash"><code class="language-bash">now -e <span class="token assign-left variable">APP_ID</span><span class="token operator">=</span><span class="token number">17064</span> <span class="token punctuation">\</span><br>     -e <span class="token assign-left variable">WEBHOOK_SECRET</span><span class="token operator">=</span>XXX <span class="token punctuation">\</span><br>     -e <span class="token assign-left variable">PRIVATE_KEY_BASE64</span><span class="token operator">=</span><span class="token string">"<span class="token variable"><span class="token variable">$(</span><span class="token function">cat</span> ./key.pem <span class="token operator">|</span> base64<span class="token variable">)</span></span>"</span></code></pre><p>Set a permanent alias for the new deployed application URL:</p><pre class="language-bash"><code class="language-bash">now <span class="token builtin class-name">alias</span> <span class="token builtin class-name">set</span> https://tests-checker-XYZ.now.sh https://tests-checker.now.sh</code></pre><h3>Debugging <code>now.sh</code></h3><ul><li><code>now ls tests-checker</code></li><li><code>now inspect tests-checker.now.sh</code></li><li><code>now rm tests-checker-qkkyxnelyo.now.sh</code> to free some instances available for OSS plan</li></ul><h2>Contributing</h2><p>If you have suggestions for how <code>tests-checker</code> could be improved, or want to report a bug, open an issue! We'd love all and any contributions.</p><p>For more, check out the <a href="https://github.com/infection/tests-checker/blob/master/CONTRIBUTING.md">Contributing Guide</a>.</p><blockquote><p>A GitHub App built with <a href="https://github.com/probot/probot">Probot</a> that require writing tests in Pull Requests.</p></blockquote><h2>License</h2><p><a href="https://github.com/infection/tests-checker/blob/master/LICENSE">ISC</a> Â© 2018 Maks Rafalko <a href="mailto:maks.rafalko@gmail.com">maks.rafalko@gmail.com</a> (<a href="https://github.com/infection/tests-checker">https://github.com/infection/tests-checker</a>)</p>