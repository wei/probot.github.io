<h1>HTTP routes</h1><p>When starting your app using <code>probot run ./app.js</code> or using the <a href="./development.md#use-server"><code>Server</code></a> class, your Probot app function will receive the <code>options.getRouter</code> function as its 2nd argument.</p><p>Calling <code>getRouter('/my-app')</code> will return an <a href="http://expressjs.com/">express</a> router that you can use to expose custom HTTP endpoints from your app.</p><pre class="language-js"><code class="language-js">module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">app<span class="token punctuation">,</span> <span class="token punctuation">{</span> getRouter <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>  <span class="token comment">// Get an express router to expose new HTTP endpoints</span><br>  <span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token function">getRouter</span><span class="token punctuation">(</span><span class="token string">"/my-app"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token comment">// Use any middleware</span><br>  router<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"express"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">static</span><span class="token punctuation">(</span><span class="token string">"public"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token comment">// Add a new route</span><br>  router<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"/hello-world"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>    res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">"Hello World"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>Visit <a href="https://localhost:3000/my-app/hello-world">https://localhost:3000/my-app/hello-world</a> to access the endpoint.</p><p>It is strongly encouraged to use the name of your package as the prefix so none of your routes or middleware conflict with other apps. For example, if <a href="https://github.com/probot/owners"><code>probot/owners</code></a> exposed an endpoint, the app would call <code>getRouter('/owners')</code> to prefix all endpoints with <code>/owners</code>.</p><p>See the <a href="http://expressjs.com/en/guide/routing.html">express documentation</a> for more information.</p>