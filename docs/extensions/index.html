<!doctype html><html lang="en" class="height-full" data-color-mode="auto" data-light-theme="light" data-dark-theme="dark"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="stylesheet" href="/assets/dist/styles.css"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png?v=jw3d9vxKo4"><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png?v=jw3d9vxKo4"><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png?v=jw3d9vxKo4"><link rel="manifest" href="/site.webmanifest?v=jw3d9vxKo4"><link rel="mask-icon" href="/safari-pinned-tab.svg?v=jw3d9vxKo4" color="#5bbad5"><link rel="shortcut icon" href="/favicon.ico?v=jw3d9vxKo4"><meta name="theme-color" content="#66cce0"><meta name="twitter:site" content="@ProbotTheRobot"><meta property="twitter:card" content="summary_large_image"><meta property="og:image" content="/assets/img/card.png"><meta property="og:image:height" content="1280"><meta property="og:image:width" content="630"><meta property="twitter:image:alt" content=""><meta property="og:image:type" content="image/png"><meta property="twitter:image" content="/assets/img/card.png"><meta property="twitter:image:height" content="1280"><meta property="twitter:image:width" content="630"><meta property="twitter:image:alt" content=""><meta property="twitter:image:type" content="image/png"><meta property="og:type" content="website"></head><body><div class="border-bottom"><div class="container-lg px-3"><div class="py-4 d-flex flex-justify-between"><h1 class="h4 lh-default"><a href="/" class="no-underline text-uppercase text-brand-blue-dark d-flex flex-items-center"><img class="mr-2 mt-n2" src="/assets/img/probot-head.png" width="36" height="36" alt=""> <span class="hide-sm">Probot</span></a></h1><nav class="text-bold text-right"><a class="text-inherit px-2 d-inline-block" href="/apps/">Apps</a> <a class="text-inherit px-2 d-inline-block" href="/docs/">Docs</a> <a class="text-inherit px-2 d-inline-block" href="/community/">Community</a></nav></div></div></div><div class="container-lg px-3 py-6"><div class="d-md-flex flex-md-row flex-md-row-reverse gutter-md-spacious"><div class="col-md-9 markdown-body p-md-6"><h1>Extensions</h1><p>While Probot doesn't have an official extension API, there are a handful of reusable utilities that have been extracted from existing apps.</p><ul><li><a href="#commands">Commands</a></li><li><a href="#metadata">Metadata</a></li><li><a href="#attachments">Attachments</a></li></ul><h2>Commands</h2><p><a href="http://github.com/probot/commands">probot-commands</a> is an extension that adds slash commands to GitHub. Slash commands are lines that start with <code>/</code> in comments on Issues or Pull Requests that allow users to interact directly with your app.</p><p>For example, users could add labels from comments by typing <code>/label in-progress</code>.</p><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> commands <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"probot-commands"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">app</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>  <span class="token comment">// Type `/label foo, bar` in a comment box for an Issue or Pull Request</span><br>  <span class="token function">commands</span><span class="token punctuation">(</span>app<span class="token punctuation">,</span> <span class="token string">"label"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">context<span class="token punctuation">,</span> command</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>    <span class="token keyword">const</span> labels <span class="token operator">=</span> command<span class="token punctuation">.</span>arguments<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">, *</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token keyword">return</span> context<span class="token punctuation">.</span>octokit<span class="token punctuation">.</span>issues<span class="token punctuation">.</span><span class="token function">addLabels</span><span class="token punctuation">(</span>context<span class="token punctuation">.</span><span class="token function">issue</span><span class="token punctuation">(</span><span class="token punctuation">{</span> labels <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h2>Metadata</h2><p><a href="https://github.com/probot/metadata">probot-metadata</a> is an extension that stores metadata on Issues and Pull Requests.</p><p>For example, here is a contrived app that stores the number of times that comments were edited in a discussion and comments with the edit count when the issue is closed.</p><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> metadata <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"probot-metadata"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">app</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>  app<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">"issues.edited"</span><span class="token punctuation">,</span> <span class="token string">"issue_comment.edited"</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">context</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>    <span class="token keyword">const</span> kv <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">metadata</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token keyword">await</span> kv<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"edits"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">await</span> kv<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"edits"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  app<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">"issues.closed"</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">context</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>    <span class="token keyword">const</span> edits <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">metadata</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"edits"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    context<span class="token punctuation">.</span>octokit<span class="token punctuation">.</span>issues<span class="token punctuation">.</span><span class="token function">createComment</span><span class="token punctuation">(</span><br>      context<span class="token punctuation">.</span><span class="token function">issue</span><span class="token punctuation">(</span><span class="token punctuation">{</span><br>        body<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">There were </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>edits<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> edits to issues in this thread.</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span><br>      <span class="token punctuation">}</span><span class="token punctuation">)</span><br>    <span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h2>Attachments</h2><p><a href="https://github.com/probot/attachments">probot-attachments</a> adds message attachments to comments on GitHub. This extension should be used any time an app is appending content to user comments.</p><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> attachments <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"probot-attachments"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">app</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>  app<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">"issue_comment.created"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">context</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>    <span class="token keyword">return</span> <span class="token function">attachments</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">{</span><br>      title<span class="token operator">:</span> <span class="token string">"Hello World"</span><span class="token punctuation">,</span><br>      title_link<span class="token operator">:</span> <span class="token string">"https://example.com/hello"</span><span class="token punctuation">,</span><br>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>Check out <a href="https://github.com/probot/unfurl">probot/unfurl</a> to see it in action.</p><div class="d-flex border-bottom border-gray-light mt-6 mb-3 py-3 color-text-tertiary"><div class="col-6"></div><div class="col-6 text-right"></div></div><p class="alt-text-small color-text-tertiary">Found a mistake or want to help improve this documentation? <a href="https://github.com/probot/probot/edit/master/docs/extensions.md">Suggest changes on GitHub</a></p></div><div id="toc" class="col-md-3 py-6"><div class="toc-wrap"><h2 class="h4">Getting Started</h2><ul class="mt-2 mb-4 list-style-none"><li><a class="d-block no-underline py-1 color-text-tertiary" href="/docs/README">Introduction</a></li><li><a class="d-block no-underline py-1 color-text-tertiary" href="/docs/hello-world">Hello World</a></li><li><a class="d-block no-underline py-1 color-text-tertiary" href="/docs/development">Developing an app</a></li><li><a class="d-block no-underline py-1 color-text-tertiary" href="/docs/webhooks">Receiving webhooks</a></li><li><a class="d-block no-underline py-1 color-text-tertiary" href="/docs/github-api">Interacting with GitHub</a></li></ul><h2 class="h4">Advanced</h2><ul class="mt-2 mb-4 list-style-none"><li><a class="d-block no-underline py-1 color-text-tertiary" href="/docs/configuration">Configuration</a></li><li><a class="d-block no-underline py-1 color-text-tertiary" href="/docs/testing">Testing</a></li><li><a class="d-block no-underline py-1 color-text-tertiary" href="/docs/simulating-webhooks">Simulate receiving webhooks</a></li><li><a class="d-block no-underline py-1 color-text-tertiary" href="/docs/logging">Logging</a></li><li><a class="d-block no-underline py-1 color-text-tertiary" href="/docs/deployment">Deployment</a></li><li><a class="d-block no-underline py-1 color-text-tertiary" href="/docs/http">HTTP routes</a></li><li><a class="d-block no-underline py-1 color-text-tertiary" href="/docs/pagination">Pagination</a></li><li><a class="d-block no-underline py-1 color-text-tertiary" href="/docs/extensions">Extensions</a></li><li><a class="d-block no-underline py-1 color-text-tertiary" href="/docs/persistence">Persistence</a></li><li><a class="d-block no-underline py-1 color-text-tertiary" href="/docs/best-practices">Best practices</a></li></ul><h2 class="h4">Reference</h2><ul class="mt-2 mb-4 list-style-none"><li><a class="d-block no-underline py-1 color-text-tertiary" href="https://probot.github.io/api/latest/classes/probot.html">Probot</a></li><li><a class="d-block no-underline py-1 color-text-tertiary" href="https://probot.github.io/api/latest/classes/context.html">context</a></li><li><a class="d-block no-underline py-1 color-text-tertiary" href="http://octokit.github.io/rest.js/">context.octokit</a></li><li><a class="d-block no-underline py-1 color-text-tertiary" href="https://probot.github.io/api/latest/index.html#run">run</a></li><li><a class="d-block no-underline py-1 color-text-tertiary" href="https://probot.github.io/api/latest/index.html#createnodemiddleware">createNodeMiddleware</a></li><li><a class="d-block no-underline py-1 color-text-tertiary" href="https://docs.github.com/en/free-pro-team@latest/developers/webhooks-and-events/webhook-events-and-payloads">GitHub Webhook Events</a></li></ul></div></div></div></div><script src="/assets/js/anchor.min.js"></script><script type="text/javascript">anchors.options = {
    placement: 'left',
    class: 'color-text-secondary no-underline'
  };

  anchors.add();
  anchors.remove('.h4');</script><div class="color-bg-tertiary color-text-secondary border-top pt-4 mt-4"><div class="container-lg px-3 page-section d-md-flex flex-md-row-reverse"><div class="col-md-6"><div id="mc_embed_signup" class="mb-3"><form action="//opensoul.us13.list-manage.com/subscribe/post?u=f8cb6fe4ce6000c8b5817787c&amp;id=a0282a3736" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate><div id="mc_embed_signup_scroll"><h3 class="h4 lh-condensed"><label for="mce-EMAIL">Subscribe</label></h3><p>Get occasional updates on new apps &amp; features.</p><div class="d-flex flex-row gutter-condensed mb-sm-2"><div class="flex-self-stretch col-8"><input type="email" value="" name="EMAIL" class="form-control width-full" id="mce-EMAIL" placeholder="email address" required></div><div class="flex-justify-end col-4"><input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="btn width-full text-center"></div></div><div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_f8cb6fe4ce6000c8b5817787c_a0282a3736" tabindex="-1" value=""></div></div></form></div></div><div class="col-md-6"><p><span class="mr-2 d-inline-block"><a class="github-button" href="https://github.com/probot/probot" data-size="large" data-icon="octicon-star" data-show-count="true" aria-label="Star probot/probot on GitHub" ga-on="click" ga-hit-type="social" ga-social-network="GitHub" ga-social-action="star">Star</a> </span><a href="https://twitter.com/ProbotTheRobot" class="twitter-follow-button" data-size="large" data-show-screen-name="false" data-show-count="false">Follow @ProbotTheRobot</a><script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script></p><p><svg version="1.1" width="16" height="16" viewBox="0 0 16 16" class="octicon octicon-code" aria-hidden="true"><path fill-rule="evenodd" d="M4.72 3.22a.75.75 0 011.06 1.06L2.06 8l3.72 3.72a.75.75 0 11-1.06 1.06L.47 8.53a.75.75 0 010-1.06l4.25-4.25zm6.56 0a.75.75 0 10-1.06 1.06L13.94 8l-3.72 3.72a.75.75 0 101.06 1.06l4.25-4.25a.75.75 0 000-1.06l-4.25-4.25z"></path></svg> with <svg version="1.1" width="16" height="16" viewBox="0 0 16 16" class="octicon octicon-heart" aria-hidden="true"><path fill-rule="evenodd" d="M4.25 2.5c-1.336 0-2.75 1.164-2.75 3 0 2.15 1.58 4.144 3.365 5.682A20.565 20.565 0 008 13.393a20.561 20.561 0 003.135-2.211C12.92 9.644 14.5 7.65 14.5 5.5c0-1.836-1.414-3-2.75-3-1.373 0-2.609.986-3.029 2.456a.75.75 0 01-1.442 0C6.859 3.486 5.623 2.5 4.25 2.5zM8 14.25l-.345.666-.002-.001-.006-.003-.018-.01a7.643 7.643 0 01-.31-.17 22.075 22.075 0 01-3.434-2.414C2.045 10.731 0 8.35 0 5.5 0 2.836 2.086 1 4.25 1 5.797 1 7.153 1.802 8 3.02 8.847 1.802 10.203 1 11.75 1 13.914 1 16 2.836 16 5.5c0 2.85-2.045 5.231-3.885 6.818a22.08 22.08 0 01-3.744 2.584l-.018.01-.006.003h-.002L8 14.25zm0 0l.345.666a.752.752 0 01-.69 0L8 14.25z"></path></svg> by <a class="color-text-tertiary" href="https://github.com/probot">the Probot community</a></p><p style="opacity: 0.5"><span class="mr-2">Code licensed <a class="text-inherit" href="https://github.com/probot/probot/blob/master/LICENSE">ISC</a></span> <span>Docs licensed <a class="text-inherit" href="https://creativecommons.org/licenses/by/4.0/">CC-BY-4.0</a></span></p></div></div><div class="text-center"></div></div><script async src="https://buttons.github.io/buttons.js"></script><script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script></body></html>